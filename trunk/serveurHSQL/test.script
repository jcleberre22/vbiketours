CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE EQUIPAGE(IDEQUIPAGE INTEGER NOT NULL PRIMARY KEY,LIBELLEEQUIPAGE VARCHAR(30) NOT NULL)
CREATE MEMORY TABLE ESCADRON(IDESCADRON INTEGER NOT NULL PRIMARY KEY,LIBELLEESCADRON VARCHAR(30) NOT NULL)
CREATE MEMORY TABLE ARMEMENT(IDARMEMENT INTEGER NOT NULL PRIMARY KEY,LIBELLEARMEMENT VARCHAR(30) NOT NULL)
CREATE MEMORY TABLE CIRCULATION(IDCIRCULATION INTEGER NOT NULL PRIMARY KEY,LIBELLECIRCULATION VARCHAR(30) NOT NULL)
CREATE MEMORY TABLE CATEGORIE(IDCATEGORIE INTEGER NOT NULL PRIMARY KEY,LIBELLECATEGORIE VARCHAR(30) NOT NULL)
CREATE MEMORY TABLE MISSION(IDMISSION INTEGER NOT NULL PRIMARY KEY,TYPEMISSION VARCHAR(30) NOT NULL)
CREATE MEMORY TABLE EVENEMENT(IDEVENEMENT INTEGER NOT NULL PRIMARY KEY,LIBELLEEVENEMENT VARCHAR(30) NOT NULL)
CREATE MEMORY TABLE AVION(IDAVION INTEGER NOT NULL PRIMARY KEY,IMMATRICULATION VARCHAR(15) NOT NULL,TYPEAVION VARCHAR(20) NOT NULL,ARMEAVION INTEGER NOT NULL,HEURESDEVOL INTEGER NOT NULL,INDISPONIBILITE BOOLEAN NOT NULL,TRANSFERT BOOLEAN NOT NULL,CONSTRAINT SYS_FK_60 FOREIGN KEY(ARMEAVION) REFERENCES ARMEMENT(IDARMEMENT),CONSTRAINT SYS_CT_61 CHECK(AVION.HEURESDEVOL>=0))
CREATE MEMORY TABLE QUALIFICATION(IDQUALIFICATION INTEGER NOT NULL PRIMARY KEY,LIBELLEQUALIFICATION VARCHAR(50) NOT NULL)
CREATE MEMORY TABLE PILOTE(IDPILOTE INTEGER NOT NULL PRIMARY KEY,NOMPILOTE VARCHAR(30) NOT NULL,PRENOMPILOTE VARCHAR(50) NOT NULL,QUALIFICATION INTEGER NOT NULL,EQUIPAGE INTEGER,ESCADRON INTEGER,ROLE VARCHAR(15) NOT NULL,NBSORTIESAERIENNES INTEGER NOT NULL,NBHEURESDEVOL INTEGER NOT NULL,EXAMENDEVOL BOOLEAN NOT NULL,CONSTRAINT SYS_FK_68 FOREIGN KEY(ESCADRON) REFERENCES ESCADRON(IDESCADRON),CONSTRAINT SYS_FK_69 FOREIGN KEY(EQUIPAGE) REFERENCES EQUIPAGE(IDEQUIPAGE),CONSTRAINT SYS_FK_70 FOREIGN KEY(QUALIFICATION) REFERENCES QUALIFICATION(IDQUALIFICATION),CONSTRAINT SYS_CT_71 CHECK(PILOTE.NBSORTIESAERIENNES>=0),CONSTRAINT SYS_CT_72 CHECK(PILOTE.NBHEURESDEVOL>=0))
CREATE MEMORY TABLE VOL(IDVOL INTEGER NOT NULL PRIMARY KEY,AVION INTEGER NOT NULL,ARMEMENT INTEGER NOT NULL,CIRCULATION INTEGER NOT NULL,EQUIPAGE INTEGER NOT NULL,CATEGORIE INTEGER NOT NULL,MISSION INTEGER NOT NULL,DATEDECOLLAGE TIMESTAMP NOT NULL,HEUREDECOLLAGE VARCHAR(10) NOT NULL,DATEATTERRISSAGE TIMESTAMP NOT NULL,HEUREATTERRISSAGE VARCHAR(10) NOT NULL,DEBRIEFING VARCHAR(150) NOT NULL,ANNULATION BOOLEAN NOT NULL,TYPEEVENEMENT INTEGER NOT NULL,EVENEMENT VARCHAR(100) NOT NULL,CONSTRAINT SYS_FK_81 FOREIGN KEY(TYPEEVENEMENT) REFERENCES EVENEMENT(IDEVENEMENT),CONSTRAINT SYS_FK_82 FOREIGN KEY(MISSION) REFERENCES MISSION(IDMISSION),CONSTRAINT SYS_FK_83 FOREIGN KEY(CATEGORIE) REFERENCES CATEGORIE(IDCATEGORIE),CONSTRAINT SYS_FK_84 FOREIGN KEY(EQUIPAGE) REFERENCES EQUIPAGE(IDEQUIPAGE),CONSTRAINT SYS_FK_85 FOREIGN KEY(CIRCULATION) REFERENCES CIRCULATION(IDCIRCULATION),CONSTRAINT SYS_FK_86 FOREIGN KEY(ARMEMENT) REFERENCES ARMEMENT(IDARMEMENT),CONSTRAINT SYS_FK_87 FOREIGN KEY(AVION) REFERENCES AVION(IDAVION))
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 20
SET SCHEMA PUBLIC
INSERT INTO CIRCULATION VALUES(1,'civile')
INSERT INTO CIRCULATION VALUES(2,'militaire')
INSERT INTO QUALIFICATION VALUES(1,'pilote de combat')
INSERT INTO QUALIFICATION VALUES(2,'pilote de combat operationnel')
INSERT INTO QUALIFICATION VALUES(3,'sous-chef de patrouille')
INSERT INTO QUALIFICATION VALUES(4,'chef de patrouille')
